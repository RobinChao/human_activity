dftrain shape head (7352, 562) 
          x0        x1        x2        x3        x4        x5        x6  \
0  0.288585 -0.020294 -0.132905 -0.995279 -0.983111 -0.913526 -0.995112   
1  0.278419 -0.016411 -0.123520 -0.998245 -0.975300 -0.960322 -0.998807   
2  0.279653 -0.019467 -0.113462 -0.995380 -0.967187 -0.978944 -0.996520   
3  0.279174 -0.026201 -0.123283 -0.996091 -0.983403 -0.990675 -0.997099   
4  0.276629 -0.016570 -0.115362 -0.998139 -0.980817 -0.990482 -0.998321   

         x7        x8        x9   ...         x552      x553      x554  \
0 -0.983185 -0.923527 -0.934724   ...    -0.298676 -0.710304 -0.112754   
1 -0.974914 -0.957686 -0.943068   ...    -0.595051 -0.861499  0.053477   
2 -0.963668 -0.977469 -0.938692   ...    -0.390748 -0.760104 -0.118559   
3 -0.982750 -0.989302 -0.938692   ...    -0.117290 -0.482845 -0.036788   
4 -0.979672 -0.990441 -0.942469   ...    -0.351471 -0.699205  0.123320   

       x555      x556      x557      x558      x559      x560  subject  
0  0.030400 -0.464761 -0.018446 -0.841247  0.179941 -0.058627        1  
1 -0.007435 -0.732626  0.703511 -0.844788  0.180289 -0.054317        1  
2  0.177899  0.100699  0.808529 -0.848933  0.180637 -0.049118        1  
3 -0.012892  0.640011 -0.485366 -0.848649  0.181935 -0.047663        1  
4  0.122542  0.693578 -0.615971 -0.847865  0.185151 -0.043892        1  

[5 rows x 562 columns]
dftest shape head (2947, 562) 
          x0        x1        x2        x3        x4        x5        x6  \
0  0.257178 -0.023285 -0.014654 -0.938404 -0.920091 -0.667683 -0.952501   
1  0.286027 -0.013163 -0.119083 -0.975415 -0.967458 -0.944958 -0.986799   
2  0.275485 -0.026050 -0.118152 -0.993819 -0.969926 -0.962748 -0.994403   
3  0.270298 -0.032614 -0.117520 -0.994743 -0.973268 -0.967091 -0.995274   
4  0.274833 -0.027848 -0.129527 -0.993852 -0.967445 -0.978295 -0.994111   

         x7        x8        x9   ...         x552      x553      x554  \
0 -0.925249 -0.674302 -0.894088   ...    -0.330370 -0.705974  0.006462   
1 -0.968401 -0.945823 -0.894088   ...    -0.121845 -0.594944 -0.083495   
2 -0.970735 -0.963483 -0.939260   ...    -0.190422 -0.640736 -0.034956   
3 -0.974471 -0.968897 -0.938610   ...    -0.344418 -0.736124 -0.017067   
4 -0.965953 -0.977346 -0.938610   ...    -0.534685 -0.846595 -0.002223   

       x555      x556      x557      x558      x559      x560  subject  
0  0.162920 -0.825886  0.271151 -0.720009  0.276801 -0.057978        2  
1  0.017500 -0.434375  0.920593 -0.698091  0.281343 -0.083898        2  
2  0.202302  0.064103  0.145068 -0.702771  0.280083 -0.079346        2  
3  0.154438  0.340134  0.296407 -0.698954  0.284114 -0.077108        2  
4 -0.040046  0.736715 -0.118545 -0.692245  0.290722 -0.073857        2  

[5 rows x 562 columns]
train subject set ( size 21 ) {1, 3, 5, 6, 7, 8, 11, 14, 15, 16, 17, 19, 21, 22, 23, 25, 26, 27, 28, 29, 30}
test subject set ( size 9 ) {2, 4, 9, 10, 12, 13, 18, 20, 24}
dfvalid shape head (2262, 562)
dfvalid_y shape head (2262, 2)
dftest shape head (1848, 562)
dftest_y shape head (1848, 2)
dftrain shape head (1485, 562) 
             x0        x1        x2        x3        x4        x5        x6  \
5867  0.278791 -0.032477 -0.145829 -0.993050 -0.938822 -0.928840 -0.993505   
5868  0.275709 -0.017983 -0.102424 -0.995569 -0.981350 -0.978256 -0.995906   

            x7        x8        x9   ...         x552      x553      x554  \
5867 -0.935597 -0.916592 -0.937860   ...    -0.807955 -0.939560 -0.051193   
5868 -0.981642 -0.981780 -0.942066   ...    -0.586514 -0.844675  0.099949   

          x555      x556      x557      x558      x559      x560  subject  
5867  0.102632  0.066183  0.944358 -0.838642  0.209054  0.005301       27  
5868 -0.033375  0.629909  0.409820 -0.830250  0.215456  0.014507       27  

[2 rows x 562 columns]
dftrain_y shape head (1485, 2) 
       Y  activity
5867  5  STANDING
5868  5  STANDING
Validation n=100
test score: 0.772325375774
oob score 0.991245791246
test predict True 77.233 percent, 1747 out of 2262
test predict False 22.767 percent, 515 out of 2262
cross table:
 predicted    1    2    3    4    5    6
actual                                 
1          240   24   78    0    0    0
2           14  234   52    0    0    0
3            2   32  248    0    0    0
4            0    0    0  323   85   23
5            0    0    0  205  236    0
6            0    0    0    0    0  466
precision [ 0.9375      0.80689655  0.65608466  0.61174242  0.73520249  0.95296524] 
recall [ 0.70175439  0.78        0.87943262  0.74941995  0.53514739  1.        ] 
fbeta [ 0.80267559  0.79322034  0.75151515  0.67361835  0.61942257  0.97591623] 
support [342 300 282 431 441 466]
n=100 fit: top ten important columns:
 [(0.03446426411743319, 'x52'), (0.031203191777999253, 'x558'), (0.029665802834112895, 'x56'), (0.029311256616691397, 'x49'), (0.026356815169137765, 'x40'), (0.024991934701157247, 'x50'), (0.023863843669090716, 'x58'), (0.023605806015452618, 'x560'), (0.020540487800175731, 'x559'), (0.017999740362302261, 'x57')]
Validation n=100
test score: 0.779840848806
oob score 0.991919191919
test predict True 77.984 percent, 1764 out of 2262
test predict False 22.016 percent, 498 out of 2262
cross table:
 predicted    1    2    3    4    5    6
actual                                 
1          244   26   71    0    1    0
2            8  242   50    0    0    0
3            0   33  249    0    0    0
4            0    0    0  335   80   16
5            0    0    0  213  228    0
6            0    0    0    0    0  466
precision [ 0.96825397  0.80398671  0.67297297  0.61131387  0.73786408  0.96680498] 
recall [ 0.71345029  0.80666667  0.88297872  0.77726218  0.5170068   1.        ] 
fbeta [ 0.82154882  0.80532446  0.76380368  0.68437181  0.608       0.98312236] 
support [342 300 282 431 441 466]
n=100 fit: top ten important columns:
 [(0.037136205008504571, 'x40'), (0.031375885545471195, 'x558'), (0.028811745314569034, 'x58'), (0.028311454062436566, 'x56'), (0.0274301132451992, 'x52'), (0.025553966877699646, 'x51'), (0.025478463298106248, 'x49'), (0.017946724131353335, 'x50'), (0.016735866909035252, 'x42'), (0.015344296390288448, 'x560')]
Validation n=100
test score: 0.780282935455
oob score 0.992592592593
test predict True 78.028 percent, 1765 out of 2262
test predict False 21.972 percent, 497 out of 2262
cross table:
 predicted    1    2    3    4    5    6
actual                                 
1          249   18   75    0    0    0
2            5  237   58    0    0    0
3            3   38  241    0    0    0
4            0    0    0  334   82   15
5            0    0    0  203  238    0
6            0    0    0    0    0  466
precision [ 0.9688716   0.80887372  0.64438503  0.62197393  0.74375     0.96881497] 
recall [ 0.72807018  0.79        0.85460993  0.774942    0.53968254  1.        ] 
fbeta [ 0.83138564  0.79932546  0.7347561   0.69008264  0.62549277  0.98416051] 
support [342 300 282 431 441 466]
n=100 fit: top ten important columns:
 [(0.041192567771361509, 'x49'), (0.036093481350085867, 'x40'), (0.032402497440428564, 'x52'), (0.027432618789070818, 'x56'), (0.02471535247487509, 'x58'), (0.019871631985035779, 'x53'), (0.018774575235894968, 'x54'), (0.018397075841067066, 'x50'), (0.015091697703137652, 'x560'), (0.014422962623539599, 'x37')]
Validation n=100
test score: 0.782935455349
oob score 0.991919191919
test predict True 78.294 percent, 1771 out of 2262
test predict False 21.706 percent, 491 out of 2262
cross table:
 predicted    1    2    3    4    5    6
actual                                 
1          247   16   79    0    0    0
2            5  239   56    0    0    0
3            5   29  248    0    0    0
4            0    0    0  330   86   15
5            0    0    0  200  241    0
6            0    0    0    0    0  466
precision [ 0.96108949  0.8415493   0.64751958  0.62264151  0.73700306  0.96881497] 
recall [ 0.72222222  0.79666667  0.87943262  0.76566125  0.54648526  1.        ] 
fbeta [ 0.82470785  0.81849315  0.74586466  0.6867846   0.62760417  0.98416051] 
support [342 300 282 431 441 466]
n=100 fit: top ten important columns:
 [(0.04915944903467398, 'x56'), (0.038628701976956045, 'x52'), (0.030245404893572445, 'x58'), (0.027090695281545518, 'x558'), (0.020648437304991996, 'x42'), (0.020265921103783877, 'x49'), (0.019464403104001562, 'x559'), (0.018341860308199048, 'x41'), (0.017569890500760649, 'x50'), (0.017208568201834848, 'x40')]
Validation n=100
test score: 0.775419982317
oob score 0.989898989899
test predict True 77.542 percent, 1754 out of 2262
test predict False 22.458 percent, 508 out of 2262
cross table:
 predicted    1    2    3    4    5    6
actual                                 
1          245   16   80    0    1    0
2            3  239   58    0    0    0
3            3   36  243    0    0    0
4            0    0    0  329   83   19
5            0    0    0  209  232    0
6            0    0    0    0    0  466
precision [ 0.97609562  0.82130584  0.63779528  0.61152416  0.73417722  0.96082474] 
recall [ 0.71637427  0.79666667  0.86170213  0.76334107  0.5260771   1.        ] 
fbeta [ 0.82630691  0.80879865  0.73303167  0.67905057  0.61294584  0.98002103] 
support [342 300 282 431 441 466]
n=100 fit: top ten important columns:
 [(0.038508973327283952, 'x58'), (0.036278074466528885, 'x49'), (0.02843246240447013, 'x40'), (0.024120633254901307, 'x56'), (0.023850500376942127, 'x558'), (0.023778726138850542, 'x51'), (0.02322746831913354, 'x52'), (0.019471529704758562, 'x53'), (0.019216600110376694, 'x50'), (0.017899851614694141, 'x560')]
Valid scores mean, std 0.77816091954 0.00378649214949
Valid oobs mean, std 0.991515151515 0.000913445115572

CV scores: [ 0.98123324  0.83557951  0.92991914  0.98918919]
CV scores mean, std 0.933980271362 0.0611965475402
Fitting 5 folds for each of 6 candidates, totalling 30 fits
[Parallel(n_jobs=-1)]: Done  30 out of  30 | elapsed:   50.5s finished
gs grid scores
 [mean: 0.95825, std: 0.04467, params: {'n_estimators': 100, 'max_features': 'sqrt'}, mean: 0.96566, std: 0.04239, params: {'n_estimators': 200, 'max_features': 'sqrt'}, mean: 0.96364, std: 0.04255, params: {'n_estimators': 500, 'max_features': 'sqrt'}, mean: 0.96027, std: 0.03608, params: {'n_estimators': 100, 'max_features': 'log2'}, mean: 0.96162, std: 0.02208, params: {'n_estimators': 200, 'max_features': 'log2'}, mean: 0.96094, std: 0.03337, params: {'n_estimators': 500, 'max_features': 'log2'}]
gs best score 0.9657 {'n_estimators': 200, 'max_features': 'sqrt'}
RandomForestClassifier(bootstrap=True, class_weight=None, criterion='gini',
            max_depth=None, max_features='sqrt', max_leaf_nodes=None,
            min_samples_leaf=1, min_samples_split=2,
            min_weight_fraction_leaf=0.0, n_estimators=200, n_jobs=1,
            oob_score=True, random_state=None, verbose=0, warm_start=False)
/Users/bfetler/anaconda/envs/pyana3/lib/python3.5/site-packages/matplotlib/tight_layout.py:222: UserWarning: tight_layout : falling back to Agg renderer
  warnings.warn("tight_layout : falling back to Agg renderer")
validating optimum params
Test optimum
test score: 0.770557029178
oob score 0.989225589226
test predict True 77.056 percent, 1743 out of 2262
test predict False 22.944 percent, 519 out of 2262
cross table:
 predicted    1    2    3    4    5    6
actual                                 
1          245   20   76    0    1    0
2            5  237   58    0    0    0
3            2   43  237    0    0    0
4            0    0    0  329   87   15
5            0    0    0  212  229    0
6            0    0    0    0    0  466
precision [ 0.97222222  0.79        0.63881402  0.60813309  0.72239748  0.96881497] 
recall [ 0.71637427  0.79        0.84042553  0.76334107  0.51927438  1.        ] 
fbeta [ 0.82491582  0.79        0.72588055  0.67695473  0.60422164  0.98416051] 
support [342 300 282 431 441 466]
valid opt fit: top ten important columns:
 [(0.03828335813887327, 'x49'), (0.037824722568631453, 'x58'), (0.037370344404183548, 'x56'), (0.034043323907505363, 'x558'), (0.026882781250363263, 'x52'), (0.021624048808737851, 'x40'), (0.020152418578339076, 'x559'), (0.015507604614225829, 'x41'), (0.013940154983586419, 'x50'), (0.013932326547030818, 'x51')]
Test optimum
test score: 0.781609195402
oob score 0.991919191919
test predict True 78.161 percent, 1768 out of 2262
test predict False 21.839 percent, 494 out of 2262
cross table:
 predicted    1    2    3    4    5    6
actual                                 
1          257   13   72    0    0    0
2            4  243   53    0    0    0
3            1   32  249    0    0    0
4            0    0    0  329   87   15
5            0    0    0  217  224    0
6            0    0    0    0    0  466
precision [ 0.98091603  0.84375     0.6657754   0.6025641   0.72025723  0.96881497] 
recall [ 0.75146199  0.81        0.88297872  0.76334107  0.50793651  1.        ] 
fbeta [ 0.85099338  0.82653061  0.75914634  0.67349028  0.59574468  0.98416051] 
support [342 300 282 431 441 466]
valid opt fit: top ten important columns:
 [(0.041978482743446274, 'x49'), (0.041970014705676642, 'x52'), (0.035364354349345352, 'x58'), (0.030452225924315558, 'x558'), (0.027788449109504704, 'x56'), (0.020588507352130705, 'x53'), (0.017488703983322324, 'x40'), (0.016868473840421085, 'x42'), (0.016656930651857371, 'x54'), (0.015996557273232716, 'x559')]
Test optimum
test score: 0.778514588859
oob score 0.991919191919
test predict True 77.851 percent, 1761 out of 2262
test predict False 22.149 percent, 501 out of 2262
cross table:
 predicted    1    2    3    4    5    6
actual                                 
1          239   19   83    0    1    0
2            4  248   48    0    0    0
3            1   36  245    0    0    0
4            0    0    0  321   94   16
5            0    0    0  199  242    0
6            0    0    0    0    0  466
precision [ 0.9795082   0.81848185  0.65159574  0.61730769  0.71810089  0.96680498] 
recall [ 0.69883041  0.82666667  0.86879433  0.74477958  0.54875283  1.        ] 
fbeta [ 0.81569966  0.8225539   0.74468085  0.67507886  0.62210797  0.98312236] 
support [342 300 282 431 441 466]
valid opt fit: top ten important columns:
 [(0.04282224641085363, 'x52'), (0.036065544902064206, 'x40'), (0.030210349882388465, 'x56'), (0.029506307756539018, 'x49'), (0.023606102311276671, 'x53'), (0.020639528820038739, 'x558'), (0.019398777537411274, 'x41'), (0.0168452583262979, 'x37'), (0.016506002574903155, 'x58'), (0.016402426725372884, 'x54')]
Test optimum
test score: 0.780282935455
oob score 0.991245791246
test predict True 78.028 percent, 1765 out of 2262
test predict False 21.972 percent, 497 out of 2262
cross table:
 predicted    1    2    3    4    5    6
actual                                 
1          251   13   78    0    0    0
2            6  238   56    0    0    0
3            1   32  249    0    0    0
4            0    0    0  322   94   15
5            0    0    0  202  239    0
6            0    0    0    0    0  466
precision [ 0.97286822  0.8409894   0.65013055  0.61450382  0.71771772  0.96881497] 
recall [ 0.73391813  0.79333333  0.88297872  0.74709977  0.54195011  1.        ] 
fbeta [ 0.83666667  0.81646655  0.74887218  0.67434555  0.61757106  0.98416051] 
support [342 300 282 431 441 466]
valid opt fit: top ten important columns:
 [(0.045459887809236182, 'x52'), (0.028812325508032258, 'x40'), (0.027979616547721776, 'x49'), (0.026588186631897832, 'x58'), (0.024379654053928411, 'x56'), (0.021014181322002924, 'x558'), (0.019263467014040626, 'x54'), (0.019110938814573323, 'x42'), (0.018498080675353471, 'x560'), (0.018296391289773162, 'x51')]
Test optimum
test score: 0.771883289125
oob score 0.991919191919
test predict True 77.188 percent, 1746 out of 2262
test predict False 22.812 percent, 516 out of 2262
cross table:
 predicted    1    2    3    4    5    6
actual                                 
1          241   21   79    0    1    0
2            8  234   58    0    0    0
3            3   33  246    0    0    0
4            0    0    0  323   93   15
5            0    0    0  205  236    0
6            0    0    0    0    0  466
precision [ 0.95634921  0.8125      0.64229765  0.61174242  0.71515152  0.96881497] 
recall [ 0.70467836  0.78        0.87234043  0.74941995  0.53514739  1.        ] 
fbeta [ 0.81144781  0.79591837  0.73984962  0.67361835  0.61219196  0.98416051] 
support [342 300 282 431 441 466]
valid opt fit: top ten important columns:
 [(0.038610965604232612, 'x52'), (0.033239012208990636, 'x56'), (0.031486979152428984, 'x49'), (0.027353303884087257, 'x558'), (0.0269106770083226, 'x58'), (0.025230769368539373, 'x40'), (0.019919050491677449, 'x51'), (0.019810573549371935, 'x54'), (0.018083440970753033, 'x41'), (0.017009868846088568, 'x560')]
Valid scores mean, std 0.776569407604 0.00449626247041
Valid oobs mean, std 0.991245791246 0.00104322783736
clf score 0.8225 (1520 of 1848)

classification_report
              precision    recall  f1-score   support

          1       0.91      0.89      0.90       331
          2       0.96      0.92      0.94       303
          3       0.87      0.94      0.90       265
          4       0.59      0.54      0.56       300
          5       0.60      0.64      0.62       317
          6       1.00      1.00      1.00       332

avg / total       0.82      0.82      0.82      1848

confusion matrix
[[293   9  29   0   0   0]
 [ 15 279   9   0   0   0]
 [ 15   0 250   0   0   0]
 [  0   2   0 162 136   0]
 [  0   1   0 112 204   0]
 [  0   0   0   0   0 332]]
Top ten importances of last opt fit, by original name:
 ['tGravityAcc_min_X', 'tGravityAcc_energy_X', 'tGravityAcc_max_X', 'angle_X_gravityMean', 'tGravityAcc_energy_Z', 'tGravityAcc_Mean_X', 'tGravityAcc_max_Z', 'tGravityAcc_min_Z', 'tGravityAcc_Mean_Y', 'angle_Z_gravityMean']

