dftrain shape head (7352, 562) 
          x0        x1        x2        x3        x4        x5        x6  \
0  0.288585 -0.020294 -0.132905 -0.995279 -0.983111 -0.913526 -0.995112   
1  0.278419 -0.016411 -0.123520 -0.998245 -0.975300 -0.960322 -0.998807   
2  0.279653 -0.019467 -0.113462 -0.995380 -0.967187 -0.978944 -0.996520   

         x7        x8        x9   ...         x552      x553      x554  \
0 -0.983185 -0.923527 -0.934724   ...    -0.298676 -0.710304 -0.112754   
1 -0.974914 -0.957686 -0.943068   ...    -0.595051 -0.861499  0.053477   
2 -0.963668 -0.977469 -0.938692   ...    -0.390748 -0.760104 -0.118559   

       x555      x556      x557      x558      x559      x560  subject  
0  0.030400 -0.464761 -0.018446 -0.841247  0.179941 -0.058627        1  
1 -0.007435 -0.732626  0.703511 -0.844788  0.180289 -0.054317        1  
2  0.177899  0.100699  0.808529 -0.848933  0.180637 -0.049118        1  

[3 rows x 562 columns]
dftest shape head (2947, 562) 
          x0        x1        x2        x3        x4        x5        x6  \
0  0.257178 -0.023285 -0.014654 -0.938404 -0.920091 -0.667683 -0.952501   
1  0.286027 -0.013163 -0.119083 -0.975415 -0.967458 -0.944958 -0.986799   
2  0.275485 -0.026050 -0.118152 -0.993819 -0.969926 -0.962748 -0.994403   

         x7        x8        x9   ...         x552      x553      x554  \
0 -0.925249 -0.674302 -0.894088   ...    -0.330370 -0.705974  0.006462   
1 -0.968401 -0.945823 -0.894088   ...    -0.121845 -0.594944 -0.083495   
2 -0.970735 -0.963483 -0.939260   ...    -0.190422 -0.640736 -0.034956   

       x555      x556      x557      x558      x559      x560  subject  
0  0.162920 -0.825886  0.271151 -0.720009  0.276801 -0.057978        2  
1  0.017500 -0.434375  0.920593 -0.698091  0.281343 -0.083898        2  
2  0.202302  0.064103  0.145068 -0.702771  0.280083 -0.079346        2  

[3 rows x 562 columns]
dftrain stats
                 x0           x1           x2           x3           x4  \
count  7352.000000  7352.000000  7352.000000  7352.000000  7352.000000   
mean      0.274488    -0.017695    -0.109141    -0.605438    -0.510938   
std       0.070261     0.040811     0.056635     0.448734     0.502645   
min      -1.000000    -1.000000    -1.000000    -1.000000    -0.999873   
25%       0.262975    -0.024863    -0.120993    -0.992754    -0.978129   
50%       0.277193    -0.017219    -0.108676    -0.946196    -0.851897   
75%       0.288461    -0.010783    -0.097794    -0.242813    -0.034231   
max       1.000000     1.000000     1.000000     1.000000     0.916238   

                x5           x6           x7           x8           x9  \
count  7352.000000  7352.000000  7352.000000  7352.000000  7352.000000   
mean     -0.604754    -0.630512    -0.526907    -0.606150    -0.468604   
std       0.418687     0.424073     0.485942     0.414122     0.544547   
min      -1.000000    -1.000000    -1.000000    -1.000000    -1.000000   
25%      -0.980233    -0.993591    -0.978162    -0.980251    -0.936219   
50%      -0.859365    -0.950709    -0.857328    -0.857143    -0.881637   
75%      -0.262415    -0.292680    -0.066701    -0.265671    -0.017129   
max       1.000000     1.000000     0.967664     1.000000     1.000000   

          ...              x552         x553         x554         x555  \
count     ...       7352.000000  7352.000000  7352.000000  7352.000000   
mean      ...         -0.307009    -0.625294     0.008684     0.002186   
std       ...          0.321011     0.307584     0.336787     0.448306   
min       ...         -0.995357    -0.999765    -0.976580    -1.000000   
25%       ...         -0.542602    -0.845573    -0.121527    -0.289549   
50%       ...         -0.343685    -0.711692     0.009509     0.008943   
75%       ...         -0.126979    -0.503878     0.150865     0.292861   
max       ...          0.989538     0.956845     1.000000     1.000000   

              x556         x557         x558         x559         x560  \
count  7352.000000  7352.000000  7352.000000  7352.000000  7352.000000   
mean      0.008726    -0.005981    -0.489547     0.058593    -0.056515   
std       0.608303     0.477975     0.511807     0.297480     0.279122   
min      -1.000000    -1.000000    -1.000000    -1.000000    -1.000000   
25%      -0.482273    -0.376341    -0.812065    -0.017885    -0.143414   
50%       0.008735    -0.000368    -0.709417     0.182071     0.003181   
75%       0.506187     0.359368    -0.509079     0.248353     0.107659   
max       0.998702     0.996078     1.000000     0.478157     1.000000   

           subject  
count  7352.000000  
mean     17.413085  
std       8.975143  
min       1.000000  
25%       8.000000  
50%      19.000000  
75%      26.000000  
max      30.000000  

[8 rows x 562 columns]
do_pca all : keylen 562
  pfit shape (7352, 562)
[[  1.57272239e+01   7.24625881e+00  -4.65589364e-01 ...,  -6.91888142e-17
   -1.75222535e-17  -3.04372143e-16]
 [  1.57233170e+01   7.26069038e+00  -2.59002156e-01 ...,   7.64289089e-17
    1.09172497e-16   4.69710903e-18]
 [  1.57425696e+01   7.20400561e+00   1.06483367e-01 ...,   1.07479487e-16
   -3.39254542e-16  -2.41983084e-16]]
  PCA comp norm? True
  Orig comp norm? True
  fit is near equal to dot product? False
  comps shape (562, 562)
[[ -1.89038192e-04   5.63432576e-07  -6.74636814e-06 ...,   1.55136272e-03
    4.05384703e-03  -9.93804085e-01]
 [  2.52767847e-05   3.06535950e-04   2.34616140e-04 ...,  -2.70090701e-02
   -2.15126567e-02  -1.06982334e-01]
 [  3.30402666e-03  -4.40063962e-04  -8.47244651e-04 ...,  -3.87329061e-02
   -1.50488900e-02   9.47209889e-03]
 ..., 
 [  0.00000000e+00  -5.14926282e-16  -2.95103769e-17 ...,   1.53523465e-16
    1.81013307e-16   3.41922531e-19]
 [  0.00000000e+00  -4.19186250e-16   2.14827708e-17 ...,  -1.89788273e-16
    5.91142595e-17  -2.03770951e-18]
 [  0.00000000e+00  -6.84680929e-17  -3.06740429e-17 ...,   8.10096660e-17
    8.71746994e-18  -1.60700773e-18]]
  explained_variance_ratio: [ 0.59581138  0.2516909   0.02002546] ... [  7.35096875e-36   1.62446413e-36   3.27087546e-37] : sum = 1.0
  vartotal ['60%', '85%', '87%', '88%', '89%', '90%', '90%', '91%', '91%', '92%', '92%', '92%', '93%', '93%', '93%', '93%', '94%', '94%', '94%', '94%', '94%', '94%', '95%', '95%', '95%', '95%', '95%', '95%', '95%', '95%', '96%', '96%', '96%', '96%', '96%']
  explained_variance_ratio: [ 0.59581138  0.2516909   0.02002546] ... [ 0.0002195   0.0002152   0.00021367] : sum = 0.98877462042
  vartotal ['60%', '85%', '87%', '88%', '89%', '90%', '90%', '91%', '91%', '92%', '92%', '92%', '93%', '93%', '93%', '93%', '94%', '94%', '94%', '94%', '94%', '94%', '95%', '95%', '95%', '95%', '95%', '95%', '95%', '95%', '96%', '96%', '96%', '96%', '96%']
  explained_variance_ratio: [ 0.59581138  0.2516909   0.02002546] ... [ 0.00123082  0.00119197  0.0011821 ] : sum = 0.954296810431
  vartotal ['60%', '85%', '87%', '88%', '89%', '90%', '90%', '91%', '91%', '92%', '92%', '92%', '93%', '93%', '93%', '93%', '94%', '94%', '94%', '94%', '94%', '94%', '95%', '95%', '95%', '95%', '95%', '95%', '95%', '95%']
  explained_variance_ratio: [ 0.59581138  0.2516909   0.02002546] ... [ 0.00190538  0.00176071  0.00172259] : sum = 0.940443856375
  vartotal ['60%', '85%', '87%', '88%', '89%', '90%', '90%', '91%', '91%', '92%', '92%', '92%', '93%', '93%', '93%', '93%', '94%', '94%', '94%', '94%']
  explained_variance_ratio: [ 0.59581138  0.2516909   0.02002546] ... [ 0.00479989  0.00434757  0.00393855] : sum = 0.917203731659
  vartotal ['60%', '85%', '87%', '88%', '89%', '90%', '90%', '91%', '91%', '92%']
fitting LinearSVC
fit shapes (7352, 562) (7352, 2) (2947, 562) (2947, 2)
raw data, all cols: fit score 0.99497, predict score 0.96539
classification report
             precision    recall  f1-score   support

          1       0.96      1.00      0.98       496
          2       0.98      0.96      0.97       471
          3       1.00      0.98      0.99       420
          4       0.97      0.87      0.92       491
          5       0.90      0.98      0.94       532
          6       1.00      1.00      1.00       537

avg / total       0.97      0.97      0.97      2947

confusion matrix
[[495   1   0   0   0   0]
 [ 18 453   0   0   0   0]
 [  2   5 413   0   0   0]
 [  0   5   0 427  57   2]
 [  1   0   0  11 520   0]
 [  0   0   0   0   0 537]]
fit shapes (7352, 30) (7352, 2) (2947, 30) (2947, 2)
raw data, 30 cols: fit score 0.72620, predict score 0.69528
classification report
             precision    recall  f1-score   support

          1       0.67      0.97      0.79       496
          2       0.90      0.56      0.69       471
          3       0.93      0.84      0.88       420
          4       0.51      0.18      0.27       491
          5       0.54      0.80      0.64       532
          6       0.75      0.82      0.78       537

avg / total       0.71      0.70      0.67      2947

confusion matrix
[[479  10   7   0   0   0]
 [188 262  21   0   0   0]
 [ 50  17 353   0   0   0]
 [  0   2   0  88 311  90]
 [  2   0   0  44 425  61]
 [  0   1   0  39  55 442]]
fitting LinearSVC with PCA input
fit shapes (7352, 10) (7352, 2) (2947, 10) (2947, 2)
pca 10 cols: fit score 0.87908, predict score 0.85884
classification report
             precision    recall  f1-score   support

          1       0.86      0.97      0.91       496
          2       0.89      0.87      0.88       471
          3       0.88      0.79      0.83       420
          4       0.77      0.70      0.74       491
          5       0.75      0.82      0.78       532
          6       1.00      0.99      0.99       537

avg / total       0.86      0.86      0.86      2947

confusion matrix
[[479   0  17   0   0   0]
 [ 32 412  27   0   0   0]
 [ 47  43 330   0   0   0]
 [  0   5   0 344 141   1]
 [  2   1   0  95 434   0]
 [  0   0   0   5   0 532]]
fit shapes (7352, 20) (7352, 2) (2947, 20) (2947, 2)
pca 20 cols: fit score 0.91172, predict score 0.89141
classification report
             precision    recall  f1-score   support

          1       0.92      0.96      0.94       496
          2       0.90      0.92      0.91       471
          3       0.91      0.85      0.88       420
          4       0.82      0.76      0.79       491
          5       0.80      0.86      0.83       532
          6       1.00      0.98      0.99       537

avg / total       0.89      0.89      0.89      2947

confusion matrix
[[478   1  17   0   0   0]
 [ 17 434  19   0   1   0]
 [ 23  40 357   0   0   0]
 [  0   4   1 372 114   0]
 [  1   2   0  71 458   0]
 [  0   0   0   9   0 528]]
fit shapes (7352, 30) (7352, 2) (2947, 30) (2947, 2)
pca 30 cols: fit score 0.93131, predict score 0.91381
classification report
             precision    recall  f1-score   support

          1       0.90      0.96      0.92       496
          2       0.91      0.91      0.91       471
          3       0.92      0.86      0.89       420
          4       0.91      0.82      0.86       491
          5       0.85      0.92      0.88       532
          6       1.00      1.00      1.00       537

avg / total       0.92      0.91      0.91      2947

confusion matrix
[[474   4  18   0   0   0]
 [ 29 427  14   0   0   1]
 [ 24  33 363   0   0   0]
 [  0   2   0 401  88   0]
 [  2   1   0  38 491   0]
 [  0   0   0   0   0 537]]
fit shapes (7352, 50) (7352, 2) (2947, 50) (2947, 2)
pca 50 cols: fit score 0.96028, predict score 0.92908
classification report
             precision    recall  f1-score   support

          1       0.90      0.97      0.94       496
          2       0.94      0.87      0.90       471
          3       0.94      0.94      0.94       420
          4       0.94      0.84      0.89       491
          5       0.87      0.95      0.91       532
          6       1.00      1.00      1.00       537

avg / total       0.93      0.93      0.93      2947

confusion matrix
[[481   6   9   0   0   0]
 [ 44 409  18   0   0   0]
 [  6  20 394   0   0   0]
 [  0   1   0 414  76   0]
 [  1   0   0  28 503   0]
 [  0   0   0   0   0 537]]
fit shapes (7352, 100) (7352, 2) (2947, 100) (2947, 2)
pca 100 cols: fit score 0.98422, predict score 0.95012
classification report
             precision    recall  f1-score   support

          1       0.95      0.99      0.97       496
          2       0.96      0.94      0.95       471
          3       0.99      0.97      0.98       420
          4       0.95      0.84      0.89       491
          5       0.88      0.96      0.92       532
          6       0.99      1.00      1.00       537

avg / total       0.95      0.95      0.95      2947

confusion matrix
[[489   5   2   0   0   0]
 [ 24 442   3   0   0   2]
 [  3   7 409   0   0   1]
 [  0   5   0 413  72   1]
 [  0   0   0  22 510   0]
 [  0   0   0   0   0 537]]
preds [(10, 0.85883949779436719), (20, 0.89141499830335935), (30, 0.9138106549032915), (50, 0.92908042076688158), (100, 0.95011876484560565)]
Grid search svc
Fitting 5 folds for each of 3 candidates, totalling 15 fits
[Parallel(n_jobs=-1)]: Done  15 out of  15 | elapsed:   10.6s finished
svc grid scores [mean: 0.88044, std: 0.03103, params: {'C': 0.1}, mean: 0.88234, std: 0.03369, params: {'C': 1.0}, mean: 0.87024, std: 0.03921, params: {'C': 10.0}]
Cross-validating LinearSVC with PCA input
CV scores mean 0.8871, std 0.0493 
scores [ 0.90785908  0.79945799  0.89430894  0.79511533  0.88451087  0.88179348
  0.94406548  0.8989071   0.93989071  0.92486339]
fitting Logistic Regression with PCA input
fit shapes (7352, 10) (7352, 2) (2947, 10) (2947, 2)
pca 10 cols: fit score 0.87636, predict score 0.85884
classification report
             precision    recall  f1-score   support

          1       0.84      0.97      0.90       496
          2       0.89      0.87      0.88       471
          3       0.89      0.79      0.84       420
          4       0.78      0.71      0.74       491
          5       0.76      0.81      0.78       532
          6       1.00      0.99      1.00       537

avg / total       0.86      0.86      0.86      2947

confusion matrix
[[480   0  16   0   0   0]
 [ 35 409  27   0   0   0]
 [ 47  41 332   0   0   0]
 [  0   5   0 347 137   2]
 [  7   2   0  94 429   0]
 [  0   0   0   3   0 534]]
fit shapes (7352, 20) (7352, 2) (2947, 20) (2947, 2)
pca 20 cols: fit score 0.90764, predict score 0.89447
classification report
             precision    recall  f1-score   support

          1       0.92      0.96      0.94       496
          2       0.91      0.93      0.92       471
          3       0.91      0.86      0.88       420
          4       0.83      0.76      0.79       491
          5       0.80      0.86      0.83       532
          6       1.00      0.99      1.00       537

avg / total       0.89      0.89      0.89      2947

confusion matrix
[[476   0  20   0   0   0]
 [ 16 438  16   0   1   0]
 [ 23  37 360   0   0   0]
 [  0   5   0 374 111   1]
 [  3   2   0  72 455   0]
 [  0   0   0   4   0 533]]
fit shapes (7352, 30) (7352, 2) (2947, 30) (2947, 2)
pca 30 cols: fit score 0.92845, predict score 0.91347
classification report
             precision    recall  f1-score   support

          1       0.89      0.96      0.92       496
          2       0.93      0.90      0.92       471
          3       0.92      0.87      0.90       420
          4       0.91      0.82      0.86       491
          5       0.85      0.91      0.88       532
          6       1.00      1.00      1.00       537

avg / total       0.91      0.91      0.91      2947

confusion matrix
[[478   0  18   0   0   0]
 [ 32 426  13   0   0   0]
 [ 23  31 366   0   0   0]
 [  0   2   0 401  87   1]
 [  6   1   0  41 484   0]
 [  0   0   0   0   0 537]]
fit shapes (7352, 50) (7352, 2) (2947, 50) (2947, 2)
pca 50 cols: fit score 0.95280, predict score 0.92908
classification report
             precision    recall  f1-score   support

          1       0.90      0.98      0.94       496
          2       0.94      0.87      0.90       471
          3       0.94      0.94      0.94       420
          4       0.94      0.83      0.88       491
          5       0.86      0.95      0.90       532
          6       1.00      1.00      1.00       537

avg / total       0.93      0.93      0.93      2947

confusion matrix
[[486   3   7   0   0   0]
 [ 44 409  17   1   0   0]
 [  6  20 394   0   0   0]
 [  0   2   0 406  83   0]
 [  2   1   0  23 506   0]
 [  0   0   0   0   0 537]]
fit shapes (7352, 100) (7352, 2) (2947, 100) (2947, 2)
pca 100 cols: fit score 0.98150, predict score 0.95182
classification report
             precision    recall  f1-score   support

          1       0.94      1.00      0.97       496
          2       0.98      0.94      0.96       471
          3       0.99      0.97      0.98       420
          4       0.95      0.84      0.89       491
          5       0.87      0.96      0.91       532
          6       1.00      1.00      1.00       537

avg / total       0.95      0.95      0.95      2947

confusion matrix
[[494   0   2   0   0   0]
 [ 25 444   2   0   0   0]
 [  4   6 409   1   0   0]
 [  0   5   0 412  74   0]
 [  1   0   0  22 509   0]
 [  0   0   0   0   0 537]]
preds [(10, 0.85883949779436719), (20, 0.89446895147607741), (30, 0.91347132677298948), (50, 0.92908042076688158), (100, 0.95181540549711574)]
Cross-validating Logistic Regression with PCA input
CV scores mean 0.8861, std 0.0488 
scores [ 0.91327913  0.80623306  0.89701897  0.79240163  0.87092391  0.88451087
  0.94133697  0.88934426  0.93852459  0.92759563]

Conclusion: Using PCA as input to Logistic Regression or LinearSVC is effective, 
with 91% accuracy using only 30 components (5.4% of 562 total).  For six 
predicted classes, a classification report shows precision of 85% and greater 
(also confirmed by confusion matrix).  Cross-validation gives average fit 
scores of 89% +- 5%.

